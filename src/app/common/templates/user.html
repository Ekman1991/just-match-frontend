<section>
    <form name="form" novalidate ng-submit="ctrl.save()">
        <div class="main-title user-title">
            <h1>{{ 'user.title' | translate }}</h1>
            <div>
                <div>
                    <div class="upload-button">
                        <input type="file" id="file1" name="file" fileread="vm.uploadme"/>
                        <div class="icon-camera"><i class="demo-icon icon-ic-camera"></i><span>Välj bild</span></div>
                        <div class="user-info-image"
                             style="background-image: url('assets/images/content/hero.png');"></div>
                    </div>
                </div>
                <div>{{ctrl.model.data.attributes["first-name"]}} {{ctrl.model.data.attributes["last-name"]}}</div>
            </div>
        </div>
        <div class="user-form">

            <validation form="form" field="presentation" errormsg="user.presentation.validation_error">
                <div class="form-group presentation">
                    <label>{{ 'user.presentation.label' | translate }}</label>
                    <textarea name="presentation" required
                              ng-model="ctrl.model.data.attributes.description"></textarea>
                </div>
            </validation>

            <validation form="form" field="language_skills" errormsg="user.language-skills.validation_error">
                <div class="form-group language">
                    <label>{{ "user.language-skills.label" | translate }}*</label>
                    <oi-select
                            oi-options="item.attributes['en-name'] for item in languagesArrFn($query) track by item.id"
                            ng-model="ctrl.language_bundle"
                            multiple
                            placeholder="Select"
                    ></oi-select>
                    <input type="hidden" name="language_skills" value="{{ctrl.language_bundle}}" required>
                </div>
            </validation>

            <!--<validation form="form" field="language_id" errormsg="user.language-skills.validation_error">
                <div class="form-group">
                    <label>Select primary skill*</label>
                    <select name="language_id" ng-model="ctrl.model.data.attributes['language-id']">
                        <option style="display:none" value="">Select primary language</option>
                        <option ng-repeat="lang in ctrl.language_bundle" value="{{lang.id}}">
                            {{lang.attributes["en-name"]}}
                        </option>
                    </select>
                </div>
            </validation>-->


            <validation form="form" field="job_experience" errormsg="user.job-experience.validation_error">
                <div class="form-group experience">
                    <label>{{ "user.job-experience.label" | translate }}</label>
                    <textarea name="job_experience" ng-model="ctrl.model.data.attributes['job-experience']"></textarea>
                </div>
            </validation>

            <validation form="form" field="education" errormsg="user.education.validation_error">
                <div class="form-group education">
                    <label>{{ "user.education.label" | translate }}</label>
                    <textarea name="education" ng-model="ctrl.model.data.attributes.education"></textarea>
                </div>
            </validation>

            <validation form="form" field="competences" errormsg="user.skills.validation_error">
                <div class="form-group competences">
                    <label>{{ "user.skills.label" | translate }}</label>
                    <textarea name="competences" ng-model="ctrl.model.data.attributes.skills"></textarea>
                </div>
            </validation>
            <div>
                <hr>
                <p>Uppgifterna sparas till din profil och syns på alla dina ansökningar</p>
            </div>
            <div class="form-group">
                <button class="form-control btn btn-pos" type="submit" ng-disabled="form.$invalid">Fortsätt</button>
            </div>


        </div>
        <div class="data-generate">
            <p>{{ ctrl.model | json }}</p>
            <p><i>{{ ctrl.message | json}}</i></p>
            <p>{{ bundle }}</p>
        </div>
    </form>
</section>